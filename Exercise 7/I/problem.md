<div class="problem-statement">
   <div class="header">
      <h1 class="title">I. Автобусы</h1>
      <table>
         <tr class="time-limit">
            <td class="property-title">Ограничение времени</td>
            <td>2&nbsp;секунды</td>
         </tr>
         <tr class="memory-limit">
            <td class="property-title">Ограничение памяти</td>
            <td>64Mb</td>
         </tr>
         <tr class="input-file">
            <td class="property-title">Ввод</td>
            <td colspan="1">стандартный ввод или input.txt</td>
         </tr>
         <tr class="output-file">
            <td class="property-title">Вывод</td>
            <td colspan="1">стандартный вывод или output.txt</td>
         </tr>
      </table>
   </div>
   <h2></h2>
   <div class="legend"><span style="">
         <p>Новый Президент Тридевятой республики начал свою деятельность с полной ревизии системы общественного транспорта страны. В
            результате на основе социологических опросов населения было составлено идеальное ежедневное расписание движения междугородних
            автобусов, утвержденное Парламентом республики.
         </p></span><p>Более того, было решено заменить весь автобусный парк одинаковыми новыми, очень дорогими, но гораздо более надежными, красивыми
         и удобными машинами.
      </p>
      <p>Автобусная сеть страны охватывает N городов, занумерованных целыми числами от 1 до N.</p>
      <p>Идеальное расписание содержит M ежедневных рейсов, i-й рейс начинается в городе <span class="tex-math-text">F<sub>i</sub></span> в момент времени <span class="tex-math-text">X<sub>i</sub></span> и заканчивается в некотором другом городе <span class="tex-math-text">G<sub>i</sub></span> в момент времени <span class="tex-math-text">Y<sub>i</sub></span>. Продолжительность каждого рейса ненулевая и строго меньше 24 часов. Рейс i выполняется одним из автобусов, находящихся в
         момент времени <span class="tex-math-text">X<sub>i</sub></span> в городе <span class="tex-math-text">F<sub>i</sub></span>.
      </p>
      <p>Новые автобусы не требуют ремонта и могут работать круглосуточно, поэтому автобус, прибывший в некоторый момент времени в
         некоторый город, всегда готов в тот же самый момент времени или позже отправиться в путь для обслуживания любого другого рейса
         из данного города. Автобус может выехать из города, только выполняя какой-либо рейс из расписания.
      </p>
      <p>Предполагается, что расписание будет действовать неограниченное время, поэтому может оказаться так, что его невозможно обслужить
         никаким конечным числом автобусов.
      </p>
      <p>Определите наименьшее количество новых автобусов, достаточное для обеспечения движения по расписанию в течение неограниченного
         периода времени.
      </p>
   </div>
   <h2>Формат ввода</h2>
   <div class="input-specification"><span style="">
         <p>В первой строке задаются целые числа N и М (1 ≤ N, M ≤ 100 000) — количество городов и рейсов автобусов соответственно.</p></span><p>В каждой из следующих M строк содержится описание рейса автобуса: номер города отправления <span class="tex-math-text">F<sub>i</sub></span>, время отправления <span class="tex-math-text">X<sub>i</sub></span>, номер города назначения <span class="tex-math-text">G<sub>i</sub></span> (<span class="tex-math-text">F<sub>i</sub></span> ≠ <span class="tex-math-text">G<sub>i</sub></span>), время прибытия <span class="tex-math-text">Y<sub>i</sub></span>, отделенные друг от друга одним пробелом. Время прибытия и отправления задается в формате HH:MM, где HH — часы от 00 до 23,
         MM — минуты от 00 до 59.
      </p>
   </div>
   <h2>Формат вывода</h2>
   <div class="output-specification"><span style="">
         <p>Выведите одно число — минимально необходимое количество автобусов. Если расписание невозможно обслуживать в течение неограниченного
            периода времени конечным числом автобусов, выведите число -1.
         </p></span><p></p>
   </div>
   <h3>Пример 1</h3>
   <table class="sample-tests">
      <thead>
         <tr>
            <th>Ввод</th>
            <th>Вывод</th>
         </tr>
      </thead>
      <tbody>
         <tr>
            <td><pre>2 2
2 20:00 1 10:00
1 08:00 2 21:00
</pre></td>
            <td><pre>3
</pre></td>
         </tr>
      </tbody>
   </table>
   <h3>Пример 2</h3>
   <table class="sample-tests">
      <thead>
         <tr>
            <th>Ввод</th>
            <th>Вывод</th>
         </tr>
      </thead>
      <tbody>
         <tr>
            <td><pre>2 2
1 09:00 2 20:00
2 20:00 1 09:00
</pre></td>
            <td><pre>1
</pre></td>
         </tr>
      </tbody>
   </table>
   <h3>Пример 3</h3>
   <table class="sample-tests">
      <thead>
         <tr>
            <th>Ввод</th>
            <th>Вывод</th>
         </tr>
      </thead>
      <tbody>
         <tr>
            <td><pre>3 4
3 03:52 1 08:50
1 18:28 3 21:53
2 03:58 3 09:00
3 14:59 2 21:13
</pre></td>
            <td><pre>2
</pre></td>
         </tr>
      </tbody>
   </table>
</div></div>
